# ğŸ—„ï¸ æ•°æ®åº“è¿ç§»æŒ‡å—

## å¿«é€Ÿè¿ç§»ï¼ˆRailway Web Terminalï¼‰

### æ­¥éª¤ 1: æ‰“å¼€ Railway Web Terminal

1. è®¿é—® [Railway](https://railway.app)
2. ç™»å½•ä½ çš„è´¦å·
3. é€‰æ‹© `cat-dashboard-backend` é¡¹ç›®
4. ç‚¹å‡»åç«¯æœåŠ¡å¡ç‰‡ï¼ˆ**ä¸æ˜¯æ•°æ®åº“æœåŠ¡**ï¼‰
5. è¿›å…¥ **"Deployments"** æ ‡ç­¾é¡µ
6. ç‚¹å‡»æœ€æ–°éƒ¨ç½²å³ä¾§çš„ **"View logs"** æŒ‰é’®
7. åœ¨æ—¥å¿—é¡µé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ **"Shell"** æˆ– **"Terminal"** æŒ‰é’®

### æ­¥éª¤ 2: è¿è¡Œè¿ç§»å‘½ä»¤

åœ¨æ‰“å¼€çš„ç»ˆç«¯ä¸­ï¼Œè¿è¡Œï¼š

```bash
npm run migrate
```

### æ­¥éª¤ 3: éªŒè¯è¿ç§»ç»“æœ

è¿ç§»æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
ğŸš€ Starting database migrations...

ğŸ“Š Database type: PostgreSQL
âœ… PostgreSQL migrations completed successfully

âœ¨ All migrations completed!
```

## è¿ç§»ä¼šåˆ›å»ºçš„è¡¨

è¿ç§»è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹è¡¨ï¼š

- âœ… `sync_state` - åŒæ­¥çŠ¶æ€è¡¨
- âœ… `backfill_state` - å›å¡«çŠ¶æ€è¡¨
- âœ… `cat_transfers` - CAT è½¬è´¦è®°å½•è¡¨
- âœ… `cat_swaps` - CAT äº¤æ˜“è®°å½•è¡¨
- âœ… `cat_holders` - æŒå¸è€…è¡¨
- âœ… `address_labels` - åœ°å€æ ‡ç­¾è¡¨
- âœ… `cat_address_trade_stats` - åœ°å€äº¤æ˜“ç»Ÿè®¡è¡¨
- âœ… `cat_address_rounds` - åœ°å€äº¤æ˜“è½®æ¬¡è¡¨
- âœ… `cat_kline` - K çº¿æ•°æ®è¡¨
- âœ… `cat_daily_metrics` - æ¯æ—¥æŒ‡æ ‡è¡¨
- âœ… `cat_holders_daily` - æ¯æ—¥æŒå¸è€…å¿«ç…§è¡¨
- âœ… `address_pnl_daily` - åœ°å€æ¯æ—¥ç›ˆäºè¡¨
- âœ… `cat_daily_trade_stats` - æ¯æ—¥äº¤æ˜“ç»Ÿè®¡è¡¨
- âœ… `cat_lp_daily_snapshot` - LP æ¯æ—¥å¿«ç…§è¡¨

æ‰€æœ‰è¡¨éƒ½ä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•ä»¥ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ã€‚

## å¸¸è§é—®é¢˜

### Q: è¿ç§»å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. **ç¡®è®¤ DATABASE_URL å·²é…ç½®**
   - åœ¨ Railway æœåŠ¡ä¸­è¿›å…¥ "Variables" æ ‡ç­¾é¡µ
   - ç¡®è®¤ `DATABASE_URL` å­˜åœ¨ä¸”æ­£ç¡®

2. **æ£€æŸ¥æ•°æ®åº“è¿æ¥**
   - ç¡®è®¤ PostgreSQL æœåŠ¡æ­£åœ¨è¿è¡Œ
   - ç¡®è®¤ `DATABASE_URL` æ˜¯ä» PostgreSQL æœåŠ¡å¤åˆ¶çš„

3. **æŸ¥çœ‹é”™è¯¯ä¿¡æ¯**
   - è¿ç§»è„šæœ¬ä¼šæ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
   - å°†é”™è¯¯ä¿¡æ¯å‘é€ç»™æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ è§£å†³

### Q: å¯ä»¥é‡å¤è¿è¡Œè¿ç§»å—ï¼Ÿ

**A:** å¯ä»¥ï¼è¿ç§»è„šæœ¬ä½¿ç”¨ `CREATE TABLE IF NOT EXISTS`ï¼Œé‡å¤è¿è¡Œæ˜¯å®‰å…¨çš„ã€‚

### Q: è¿ç§»éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

**A:** é€šå¸¸åªéœ€è¦å‡ ç§’é’Ÿã€‚åˆ›å»ºè¡¨å’Œç´¢å¼•å¾ˆå¿«å®Œæˆã€‚

## éªŒè¯è¿ç§»æˆåŠŸ

è¿ç§»å®Œæˆåï¼Œå¯ä»¥æµ‹è¯• API ç«¯ç‚¹ï¼š

```bash
# å¥åº·æ£€æŸ¥
curl https://your-service.up.railway.app/health

# å¸‚åœºæ¦‚è§ˆï¼ˆéœ€è¦æ•°æ®ï¼‰
curl https://your-service.up.railway.app/api/cat/overview/market
```

å¦‚æœ API è¿”å›æ•°æ®è€Œä¸æ˜¯ "table not found" é”™è¯¯ï¼Œè¯´æ˜è¿ç§»æˆåŠŸï¼

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. Railway ç»ˆç«¯ä¸­çš„å®Œæ•´é”™è¯¯ä¿¡æ¯
2. è¿ç§»å‘½ä»¤çš„è¾“å‡º
3. ç¯å¢ƒå˜é‡é…ç½®ï¼ˆéšè—æ•æ„Ÿä¿¡æ¯ï¼‰

